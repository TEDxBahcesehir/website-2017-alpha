<html>
	<head>
		<title>TEDx Bahcesehir University</title>
		<meta charset="utf-8" />
		<meta name='author' content='Mert Akengin' >
		<meta name='description' content='TEDx Bahcesehir University - 2017' >
		<meta name='keywords' content='tedx, bahcesehir, official, bau, university, independently, organized, ted, talk, talks, istanbul, europe, turkey'>
		<meta name="viewport" content="initial-scale=0.8, maximum-scale=1.2, width=device-width, user-scalable=no" />
		<meta name="theme-color" content="firebrick">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="mobile-web-app-capable" content="yes">
		<link rel='stylesheet' type='text/css' href='./fonts.min.css' >
		<link rel='stylesheet' type='text/css' href='./style.css' >
	</head>
	<body>
		<div class="content img" >
			<video src="./res/v.mp4" preload=auto autoplay muted loop poster="//tedxbahcesehir.com/img/scene.jpg" style='animation:cool 5s 1 linear forwards;'></video>
			<div class='main' ><span id="caption" ></span><span id="cursor">|</span></div>
			<div class='sm sm-small' style='top:0;' >
				<a class='ext' target=_blank href='//goo.gl/forms/716kvr3268cLhx1q1' >fikir ver!</a>
				<a class='ext' target=_blank href='//goo.gl/forms/mHe6FjqxTmW9YaTj2' >ekibe katıl!</a>
				<a class='ext' target=_blank href='#' >partner ol!</a>
			</div>
			<div class='sm' style='bottom:0;' >
				<a class='img' target=_blank href='//facebook.com/TEDxBahcesehirUniversity-1603137146620273'
				data-img='./res/facebook.png' >.</a>
				<a class='img' target=_blank href='//twitter.com/tedx_bahcesehir' data-img='./res/twitter.png' >.</a>
				<a class='img' target=_blank href='//youtube.com/playlist?list=PLsRNoUx8w3rNvN8yaEFsULkGwqqGCPdM9' data-img='./res/youtube.png' >.</a>
				<a class='img' target=_blank href='//instagram.com/tedxbahcesehiruniversity' data-img='./res/instagram.png' >.</a>
				<!-- a class='img' href='#' data-img='./res/other.png' >.</a-->
			</div>
		</div>
		<!--script src="./main.js" async defer ></script-->
		<!--script type="text/javascript" src="./velocity.min.js" ></script -->
		<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<script type="text/javascript" >
			document.getElementsByTagName("div")[1].onclick =
				function() {
					document.getElementsByTagName("video")[0].play();
					return;
				};

var captionLength = 0;
var caption = '';

function type() {
	lock = true;
    captionEl.html(caption.substr(0, captionLength++));
    if(captionLength < caption.length+1) {
        setTimeout('type()', 50);
    } else {
        captionLength = 0;
        caption = '';
        lock = false;
    }
}

function testErasingEffect() {
    caption = captionEl.html();
    captionLength = caption.length;
    if (captionLength>0) {
        erase();
    } else {
        $('#caption').html("You didn't write anything to erase, but that's ok!");
        setTimeout('testErasingEffect()', 1000);
    }
}

function erase() {
	lock = true;
    captionEl.html(caption.substr(0, captionLength--));
    if(captionLength >= 0) {
        setTimeout('erase()', 50);
    } else {
        captionLength = 0;
        caption = '';
        lock = false;
    }
}

function cursorAnimation() {
    $('#cursor').animate({
        opacity: 0
    }, 'fast', 'swing').animate({
        opacity: 1
    }, 'fast', 'swing');
}

var lock = false;
var timer = false;
var dcap = "2017 için hazırlanıyoruz";
var caps = [
	{
		"text": "",
		"delay": 0,
		"time": 0,
	},
	{
		"text": "Başvurular 19 Eylül'de!",
		"delay": 5555,
		"time": 1474243200000,
	},
	{
		"text": "partner@tedxbahcesehir.com",
		"delay": 5000,
		"time": 9999999999999,
	},
];
			window.onload = function(e) {
				//console.log(this,e);
				bbar = document.getElementsByClassName("sm")[0];
				for(i=0;i<bbar.clientWidth;i++)
					setTimeout('bbar.scrollLeft = '
						+ (bbar.clientWidth-i) + ';',
						Math.pow(i,2)/234
					);
				links = document.getElementsByTagName("A");
				for(i=1;i<3;i++) {
					links[i].dataset["text"] = caps[i].text;
					links[i].dataset["delay"] = caps[i].delay;
					links[i].onclick = function(e) {
						if(Date.now() > caps[i].time)
							return true;
						if(lock)
							return false;
						//document.getElementsByTagName("span")[0].innerHTML =
						caption = this.dataset.text;
						type();
						if(timer)
							clearTimeout(timer);
						timer = setTimeout(function() {
							caption = dcap;
							type();
							return;
						},this.dataset.delay);
						return false;
					};
				}
				captionEl = $('#caption');
				setInterval('cursorAnimation()', 600);
				caption = "2017 için hazırlanıyoruz";
				setTimeout("type();",1234);
				return;
			};
		</script>
		<script type="text/javascript" src="./image.js" async defer ></script>
	</body>
</html>

